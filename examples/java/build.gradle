buildscript {
    repositories {
        mavenLocal()
    }
    dependencies {
        classpath "net.thauvin.erik.gradle:semver:0.9.2-beta"
    }
}

// ./gradlew
// ./gradlew incrementPatch run
// ./gradlew incrementMinor run
// ./gradlew incrementMajor run

plugins {
    id 'java'
    id 'application'
}

apply plugin: 'net.thauvin.erik.gradle.semver'

mainClassName = 'App'

compileJava.options.annotationProcessorGeneratedSourcesDirectory = file("${projectDir}/src/generated")

defaultTasks 'run'

dependencies {
    testImplementation(
            'org.junit.jupiter:junit-jupiter-api:5.2.0'
    )
    testRuntimeOnly(
            'org.junit.jupiter:junit-jupiter-engine:5.2.0'
    )
}

repositories {
    jcenter()
}

test {
    useJUnitPlatform()
}

semver {
    // properties = "example.properties"
    // keysPrefix = "example."
    // preReleaseKey = "release"
    // buildMetaKey = "meta"
}

run {
    doFirst {
        println "Version: $version"
    }
}
